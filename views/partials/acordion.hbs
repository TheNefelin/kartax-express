<main>
    <section class="acordion-list">
        <div class="acordion-list-titulo">Totilo 1</div>
        <button class="acordion">Prod 1</button>
        <div class="acordion-contenido">
            <img class="acordion-contenido-img" src="./img/item_01.png">
            <p>123123</p>
            <p>123456</p>
            <button class="btn animacion">
                <span>Aceptar</span>
            </button>
        </div>
        <button class="acordion">Prod 1</button>
        <div class="acordion-contenido">
            <img class="acordion-contenido-img" src="./img/item_01.png">
            <p>123123</p>
            <p>123456</p>
            <button class="btn animacion">
                <span>Aceptar</span>
            </button>
        </div>
    </section>
</main>

<script>
    async function setAcordion(index) {
        let html = "";
        const acordionList = document.querySelector(".acordion-list");
        acordionList.innerHTML = "";

        const arrSlide = document.querySelectorAll(".slide");
        const IdTipoAlimento = arrSlide[index].id;

        const dataItemCateg = await fetch(`https://bsite.net/metalflap/demo-item-categ/IdTipoAlimento/${IdTipoAlimento}`);
        const itemCateg = await dataItemCateg.json();

        itemCateg.forEach(async (eIC) => {
            const dataItem = await fetch(`https://bsite.net/metalflap/demo-item/IdCateg/${eIC.id}`);
            const item = await dataItem.json();

            acordionList.innerHTML += `<div class="acordion-list-titulo">${eIC.nombre}</div>`

            item.forEach((eI) => {
                acordionList.innerHTML += `
                    <button class="acordion">${eI.nombre}</button>
                    <div class="acordion-contenido">
                        <img class="acordion-contenido-img" src=${eI.link}>
                        <p>${eI.descripcion}</p>
                        <p>${eI.precio}</p>
                        <button class="btn animacion">
                            <span>Aceptar</span>
                        </button>
                    </div>`;
            });
        });

    };
</script>